<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HQC: a Public-Key Encryption scheme: src/gf2x_avx2.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">HQC: a Public-Key Encryption scheme
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">gf2x_avx2.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Header file for <a class="el" href="gf2x__avx2_8c.html" title="AVX2 implementation of multiplication of two polynomials.">gf2x_avx2.c</a>.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="parameters_8h_source.html">parameters.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vector_8h_source.html">vector.h</a>&quot;</code><br />
</div>
<p><a href="gf2x__avx2_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0019ac5a7d44efcd00bc649a968cb78c" id="r_a0019ac5a7d44efcd00bc649a968cb78c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0019ac5a7d44efcd00bc649a968cb78c">VECTORSIZE</a>&#160;&#160;&#160;256</td></tr>
<tr class="separator:a0019ac5a7d44efcd00bc649a968cb78c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ef29b81d29a759e354d4efcc1a0606d" id="r_a4ef29b81d29a759e354d4efcc1a0606d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ef29b81d29a759e354d4efcc1a0606d">BYTESPERVECTOR</a>&#160;&#160;&#160;(<a class="el" href="#a0019ac5a7d44efcd00bc649a968cb78c">VECTORSIZE</a>/8)</td></tr>
<tr class="separator:a4ef29b81d29a759e354d4efcc1a0606d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64606053b2d9cadc946330be75ea9da4" id="r_a64606053b2d9cadc946330be75ea9da4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64606053b2d9cadc946330be75ea9da4">BITSPERINT</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a64606053b2d9cadc946330be75ea9da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5d33f6e800f349eb9bc9cb0a1bbe2fa" id="r_ae5d33f6e800f349eb9bc9cb0a1bbe2fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae5d33f6e800f349eb9bc9cb0a1bbe2fa">INTSPERVECTOR</a>&#160;&#160;&#160;(<a class="el" href="#a0019ac5a7d44efcd00bc649a968cb78c">VECTORSIZE</a>/<a class="el" href="#a64606053b2d9cadc946330be75ea9da4">BITSPERINT</a>)</td></tr>
<tr class="separator:ae5d33f6e800f349eb9bc9cb0a1bbe2fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8032a591829db69be1f966a84e3ee22" id="r_ac8032a591829db69be1f966a84e3ee22"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8032a591829db69be1f966a84e3ee22">VEC_N_ARRAY_SIZE_VEC</a>&#160;&#160;&#160;<a class="el" href="vector_8h.html#a9b7de12f51341b3649d0cc97ed41dd9d">CEIL_DIVIDE</a>(PARAM_N,256)</td></tr>
<tr class="separator:ac8032a591829db69be1f966a84e3ee22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a075bda6745177ed44349ecce20cda6d3" id="r_a075bda6745177ed44349ecce20cda6d3"><td class="memItemLeft" align="right" valign="top">typedef uint32_t v8uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a075bda6745177ed44349ecce20cda6d3">__attribute__</a>((vector_size(<a class="el" href="#a4ef29b81d29a759e354d4efcc1a0606d">BYTESPERVECTOR</a>))) __attribute__((aligned(<a class="el" href="#a4ef29b81d29a759e354d4efcc1a0606d">BYTESPERVECTOR</a>)))</td></tr>
<tr class="separator:a075bda6745177ed44349ecce20cda6d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9fc1e8ecb4dee4bec732b54c46ac833e" id="r_a9fc1e8ecb4dee4bec732b54c46ac833e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9fc1e8ecb4dee4bec732b54c46ac833e">shiftXor</a> (v8uint32 dest[], v8uint32 source[], unsigned int length, unsigned int distance)</td></tr>
<tr class="memdesc:a9fc1e8ecb4dee4bec732b54c46ac833e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes dest ^= source&gt;&gt;distance,.  <br /></td></tr>
<tr class="separator:a9fc1e8ecb4dee4bec732b54c46ac833e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21485660ecff48650d1893d4e40a857" id="r_ad21485660ecff48650d1893d4e40a857"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad21485660ecff48650d1893d4e40a857">vect_sparse_from_bytes</a> (uint32_t *o, const uint8_t *a)</td></tr>
<tr class="memdesc:ad21485660ecff48650d1893d4e40a857"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the support of the spare vector.  <br /></td></tr>
<tr class="separator:ad21485660ecff48650d1893d4e40a857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61737cb134837b98b1babd017dcc54d4" id="r_a61737cb134837b98b1babd017dcc54d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a61737cb134837b98b1babd017dcc54d4">sparse_dense_mul</a> (uint8_t *o, const uint8_t *v1, const uint8_t *v2, const uint32_t weight)</td></tr>
<tr class="memdesc:a61737cb134837b98b1babd017dcc54d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Multiply two vectors.  <br /></td></tr>
<tr class="separator:a61737cb134837b98b1babd017dcc54d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for <a class="el" href="gf2x__avx2_8c.html" title="AVX2 implementation of multiplication of two polynomials.">gf2x_avx2.c</a>. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a64606053b2d9cadc946330be75ea9da4" name="a64606053b2d9cadc946330be75ea9da4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64606053b2d9cadc946330be75ea9da4">&#9670;&#160;</a></span>BITSPERINT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BITSPERINT&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of bits per int </p>

</div>
</div>
<a id="a4ef29b81d29a759e354d4efcc1a0606d" name="a4ef29b81d29a759e354d4efcc1a0606d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ef29b81d29a759e354d4efcc1a0606d">&#9670;&#160;</a></span>BYTESPERVECTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BYTESPERVECTOR&#160;&#160;&#160;(<a class="el" href="#a0019ac5a7d44efcd00bc649a968cb78c">VECTORSIZE</a>/8)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of bytes in a vector </p>

</div>
</div>
<a id="ae5d33f6e800f349eb9bc9cb0a1bbe2fa" name="ae5d33f6e800f349eb9bc9cb0a1bbe2fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5d33f6e800f349eb9bc9cb0a1bbe2fa">&#9670;&#160;</a></span>INTSPERVECTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INTSPERVECTOR&#160;&#160;&#160;(<a class="el" href="#a0019ac5a7d44efcd00bc649a968cb78c">VECTORSIZE</a>/<a class="el" href="#a64606053b2d9cadc946330be75ea9da4">BITSPERINT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of ints per vector </p>

</div>
</div>
<a id="ac8032a591829db69be1f966a84e3ee22" name="ac8032a591829db69be1f966a84e3ee22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8032a591829db69be1f966a84e3ee22">&#9670;&#160;</a></span>VEC_N_ARRAY_SIZE_VEC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VEC_N_ARRAY_SIZE_VEC&#160;&#160;&#160;<a class="el" href="vector_8h.html#a9b7de12f51341b3649d0cc97ed41dd9d">CEIL_DIVIDE</a>(PARAM_N,256)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of needed vectors to store PARAM_N bits </p>

</div>
</div>
<a id="a0019ac5a7d44efcd00bc649a968cb78c" name="a0019ac5a7d44efcd00bc649a968cb78c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0019ac5a7d44efcd00bc649a968cb78c">&#9670;&#160;</a></span>VECTORSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VECTORSIZE&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The size in bits of a vector </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a075bda6745177ed44349ecce20cda6d3" name="a075bda6745177ed44349ecce20cda6d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a075bda6745177ed44349ecce20cda6d3">&#9670;&#160;</a></span>__attribute__</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t v8uint32 __attribute__((vector_size(<a class="el" href="#a4ef29b81d29a759e354d4efcc1a0606d">BYTESPERVECTOR</a>))) __attribute__((aligned(<a class="el" href="#a4ef29b81d29a759e354d4efcc1a0606d">BYTESPERVECTOR</a>)))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>v8uint32: a vector of 8 unsigned ints </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9fc1e8ecb4dee4bec732b54c46ac833e" name="a9fc1e8ecb4dee4bec732b54c46ac833e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fc1e8ecb4dee4bec732b54c46ac833e">&#9670;&#160;</a></span>shiftXor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shiftXor </td>
          <td>(</td>
          <td class="paramtype">v8uint32</td>          <td class="paramname"><span class="paramname"><em>dest</em>[], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">v8uint32</td>          <td class="paramname"><span class="paramname"><em>source</em>[], </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>length</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>distance</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes dest ^= source&gt;&gt;distance,. </p>
<p>Source and dest are bignumbers stored little endian in memory and read as vectors Routine is optimized to efficiently use vector registers we assume source is copied twice, you can use it to rotate in picture form (with four bit words): say distance = 11 and, v2 has length 14 bits v2: aaaa bbbb cccc dd.. we made a double vector as make_double_vector to do that, shiftxor will read three vectors and write: </p><pre>
(0000,0000)aaaa,bbbb cccc,ddaa aabb,bbcc ccdd,aaaa bbbb,cccc
                        \ |||\ |||\ |||\ |
v2:                     aaaa bbbb cccc dd..
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dest</td><td>Array that is the result </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>Array that is the source of data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>Integer that is size of the source </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">distance</td><td>Integer that is the amount of shits to do </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a61737cb134837b98b1babd017dcc54d4" name="a61737cb134837b98b1babd017dcc54d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61737cb134837b98b1babd017dcc54d4">&#9670;&#160;</a></span>sparse_dense_mul()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sparse_dense_mul </td>
          <td>(</td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>o</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>v1</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>v2</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t</td>          <td class="paramname"><span class="paramname"><em>weight</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Multiply two vectors. </p>
<p>This functions multiplies a sparse vector <b>v1</b> (of Hamming weight equal to <b>weight</b>) and a dense vector <b>v2</b>. The multiplication is done using the matrix-vector form of the multiplication of two polynomials modulo \( X^n - 1\). where the matrix is generated using the dense vector.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">o</td><td>Pointer to the result </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v1</td><td>Pointer to the first vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v2</td><td>Pointer to the first vector </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">weight</td><td>Integer that is the weigt of the sparse vector </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad21485660ecff48650d1893d4e40a857" name="ad21485660ecff48650d1893d4e40a857"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad21485660ecff48650d1893d4e40a857">&#9670;&#160;</a></span>vect_sparse_from_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vect_sparse_from_bytes </td>
          <td>(</td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>o</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>a</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the support of the spare vector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">o</td><td>Pointer to an array that is the support </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>Pointer to the vector </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
